!function(i){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.promisefilter=i()}}(function(){var define,module,exports;return function i(e,n,r){function t(u,l){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!l&&s)return s(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var d=n[u]={exports:{}};e[u][0].call(d.exports,function(i){var n=e[u][1][i];return t(n?n:i)},d,d.exports,i,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)t(r[u]);return t}({1:[function(require,module,exports){(function(global){var operative="undefined"!=typeof window?window.operative:"undefined"!=typeof global?global.operative:null,cfUrl="/base/node_modules/crossfilter2/crossfilter.js",opfilter=operative({unpack:function unpackFunction(func,context){var internal,evalStr="";return context&&(evalStr+=context),evalStr+="internal = "+func,eval(evalStr),internal},crossfilters:{},crossfilterIndex:0,dimensions:{},dimensionIndex:0,groupAlls:{},groupAllIndex:0,dimensionGroupAlls:{},dimensionGroupAllIndex:0,dimensionGroups:{},dimensionGroupIndex:0,"new":function(i){this.crossfilters[this.crossfilterIndex]=crossfilter(i);var e=this.crossfilterIndex;this.crossfilterIndex++,this.deferred().fulfill(e)},dimension:function(i,e){var n=this.deferred();this.dimensions[this.dimensionIndex]=this.crossfilters[i].dimension(this.unpack(e));var r=this.dimensionIndex;this.dimensionIndex++,n.fulfill(r)},"dimension.dispose":function(i){this.dimensions[i].dispose(),this.deferred().fulfill()},"dimension.groupAll":function(i){this.dimensionGroupAlls[this.dimensionGroupAllIndex]=this.dimensions[i].groupAll();var e=this.dimensionGroupAllIndex;this.dimensionGroupAllIndex++,this.deferred().fulfill(e)},"dimension.groupAll.value":function(i){var e=this.dimensionGroupAlls[i].value();this.deferred().fulfill(e)},"dimension.groupAll.reduceSum":function(i,e){this.dimensionGroupAlls[i].reduceSum(this.unpack(e)),this.deferred().fulfill()},"dimension.groupAll.reduceCount":function(i){this.dimensionGroupAlls[i].reduceCount(),this.deferred().fulfill()},"dimension.groupAll.reduce":function(i,e,n,r){this.dimensionGroupAlls[i].reduce(this.unpack(e),this.unpack(n),this.unpack(r)),this.deferred().fulfill()},"dimension.groupAll.dispose":function(i){this.dimensionGroupAlls[i].dispose(),this.deferred().fulfill()},"dimension.filterRange":function(i,e){this.dimensions[i].filterRange(e),this.deferred().fulfill()},"dimension.filterExact":function(i,e){this.dimensions[i].filterExact(e),this.deferred().fulfill()},"dimension.filterFunction":function(i,e){this.dimensions[i].filterFunction(this.unpack(e)),this.deferred().fulfill()},"dimension.filterAll":function(i){this.dimensions[i].filterAll(),this.deferred().fulfill()},"dimension.filter":function(i,e){this.dimensions[i].filter(e),this.deferred().fulfill()},"dimension.top":function(i,e){var n=this.dimensions[i].top(e);this.deferred().fulfill(n)},"dimension.bottom":function(i,e){var n=this.dimensions[i].bottom(e);this.deferred().fulfill(n)},"dimension.group":function(i,e){this.dimensionGroups[this.dimensionGroupIndex]=this.dimensions[i].group(this.unpack(e));var n=this.dimensionGroupIndex;this.dimensionGroupIndex++,this.deferred().fulfill(n)},"dimension.group.top":function(i,e){var n=this.dimensionGroups[i].top(e);this.deferred().fulfill(n)},"dimension.group.all":function(i){var e=this.dimensionGroups[i].all();this.deferred().fulfill(e)},"dimension.group.size":function(i){var e=this.dimensionGroups[i].size();this.deferred().fulfill(e)},"dimension.group.reduce":function(i,e,n,r){this.dimensionGroups[i].reduce(this.unpack(e),this.unpack(n),this.unpack(r)),this.deferred().fulfill()},"dimension.group.order":function(i,e){this.dimensionGroups[i].order(this.unpack(e)),this.deferred().fulfill()},"dimension.group.orderNatural":function(i){this.dimensionGroups[i].orderNatural(),this.deferred().fulfill()},"dimension.group.reduceSum":function(i,e){this.dimensionGroups[i].reduceSum(this.unpack(e)),this.deferred().fulfill()},"dimension.group.reduceCount":function(i){this.dimensionGroups[i].reduceCount(),this.deferred().fulfill()},"dimension.group.dispose":function(i){this.dimensionGroups[i].dispose(),this.deferred().fulfill()},groupAll:function(i){var e=this.deferred();this.groupAlls[this.groupAllIndex]=this.crossfilters[i].groupAll();var n=this.groupAllIndex;this.groupAllIndex++,e.fulfill(n)},"groupAll.value":function(i){var e=this.groupAlls[i].value();this.deferred().fulfill(e)},"groupAll.reduceSum":function(i,e){this.groupAlls[i].reduceSum(this.unpack(e)),this.deferred().fulfill()},"groupAll.reduceCount":function(i){this.groupAlls[i].reduceCount(),this.deferred().fulfill()},"groupAll.reduce":function(i,e,n,r){this.groupAlls[i].reduce(this.unpack(e),this.unpack(n),this.unpack(r)),this.deferred().fulfill()},"groupAll.dispose":function(i){this.groupAlls[i].dispose(),this.deferred().fulfill()},add:function(i,e){this.crossfilters[i].add(e),this.deferred().fulfill()},size:function(i){var e=this.crossfilters[i].size();this.deferred().fulfill(e)},all:function(i){var e=this.crossfilters[i].all();this.deferred().fulfill(e)},remove:function(i){this.crossfilters[i].remove(),this.deferred().fulfill()}},[cfUrl]),cfFacade=function(i){var e=opfilter["new"](i);return{dimension:function(i){var n=e.then(function(e){return opfilter.dimension(e,i.toString())});return{dispose:function(){return n.then(function(i){return opfilter["dimension.dispose"](i)})},groupAll:function(){var i=n.then(function(i){return opfilter["dimension.groupAll"](i)});return{value:function(){return i.then(function(i){return opfilter["dimension.groupAll.value"](i)})},reduceSum:function(e){return i.then(function(i){return opfilter["dimension.groupAll.reduceSum"](i,e.toString())}),this},reduceCount:function(){return i.then(function(i){return opfilter["dimension.groupAll.reduceCount"](i)}),this},reduce:function(e,n,r){return i.then(function(i){return opfilter["dimension.groupAll.reduce"](i,e.toString(),n.toString(),r.toString())}),this},dispose:function(){return i.then(function(i){return opfilter["dimension.groupAll.dispose"](i)})}}},group:function(i){var e=n.then(function(e){return opfilter["dimension.group"](e,i.toString())});return{top:function(i){return opfilter["dimension.group.top"](e,i)},all:function(){return opfilter["dimension.group.all"](e)},size:function(){return opfilter["dimension.group.size"](e)},reduceSum:function(i){return opfilter["dimension.group.reduceSum"](e,i.toString()),this},reduceCount:function(){return opfilter["dimension.group.reduceCount"](e),this},reduce:function(i,n,r){return opfilter["dimension.group.reduce"](e,i.toString(),n.toString(),r.toString()),this},order:function(i){return opfilter["dimension.group.order"](e,i.toString()),this},orderNatural:function(){return opfilter["dimension.group.orderNatural"](e),this},dispose:function(){return opfilter["dimension.group.dispose"](e)}}},filterRange:function(i){return opfilter["dimension.filterRange"](n,i)},filterExact:function(i){return opfilter["dimension.filterExact"](n,i)},filterFunction:function(i){return opfilter["dimension.filterFunction"](n,i.toString())},filterAll:function(){return opfilter["dimension.filterAll"](n)},filter:function(i){return opfilter["dimension.filter"](n,i)},top:function(i){return opfilter["dimension.top"](n,i)},bottom:function(i){return opfilter["dimension.bottom"](n,i)}}},groupAll:function(){var i=e.then(function(i){return opfilter.groupAll(i)});return{value:function(){return i.then(function(i){return opfilter["groupAll.value"](i)})},reduceSum:function(e){return i.then(function(i){opfilter["groupAll.reduceSum"](i,e.toString())}),this},reduceCount:function(){return i.then(function(i){opfilter["groupAll.reduceCount"](i)}),this},reduce:function(e,n,r){return i.then(function(i){opfilter["groupAll.reduce"](i,e.toString(),n.toString(),r.toString())}),this},dispose:function(){return i.then(function(i){return opfilter["groupAll.dispose"](i)})}}},remove:function(){return e.then(function(i){return opfilter.remove(i)}),this},add:function(i){return e.then(function(e){return opfilter.add(e,i)}),this},size:function(){return e.then(function(i){return opfilter.size(e)})},all:function(){return e.then(function(i){return opfilter.all(e)})}}};module.exports=cfFacade}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});