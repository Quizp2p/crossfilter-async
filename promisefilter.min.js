!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.promisefilter=n()}}(function(){var define,module,exports;return function n(e,i,r){function t(u,l){if(!i[u]){if(!e[u]){var s="function"==typeof require&&require;if(!l&&s)return s(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[u]={exports:{}};e[u][0].call(d.exports,function(n){var i=e[u][1][n];return t(i?i:n)},d,d.exports,n,e,i,r)}return i[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)t(r[u]);return t}({1:[function(require,module,exports){(function(global){var operative="undefined"!=typeof window?window.operative:"undefined"!=typeof global?global.operative:null,cfUrl="/base/node_modules/crossfilter2/crossfilter.js",opfilter=operative({unpack:function unpackFunction(func,context){var internal,evalStr="";return context&&(evalStr+=context),evalStr+="internal = "+func,eval(evalStr),internal},crossfilters:{},crossfilterIndex:0,dimensions:{},dimensionIndex:0,groupAlls:{},groupAllIndex:0,dimensionGroupAlls:{},dimensionGroupAllIndex:0,dimensionGroups:{},dimensionGroupIndex:0,"new":function(n){n?this.crossfilters[this.crossfilterIndex]=crossfilter(n):this.crossfilters[this.crossfilterIndex]=crossfilter([]);var e=this.crossfilterIndex;this.crossfilterIndex++,this.deferred().fulfill(e)},dimension:function(n,e){var i=this.deferred();this.dimensions[this.dimensionIndex]=this.crossfilters[n].dimension(this.unpack(e));var r=this.dimensionIndex;this.dimensionIndex++,i.fulfill(r)},"dimension.dispose":function(n){this.dimensions[n].dispose(),this.deferred().fulfill()},"dimension.groupAll":function(n){this.dimensionGroupAlls[this.dimensionGroupAllIndex]=this.dimensions[n].groupAll();var e=this.dimensionGroupAllIndex;this.dimensionGroupAllIndex++,this.deferred().fulfill(e)},"dimension.groupAll.value":function(n){var e=this.dimensionGroupAlls[n].value();this.deferred().fulfill(e)},"dimension.groupAll.reduceSum":function(n,e){this.dimensionGroupAlls[n].reduceSum(this.unpack(e)),this.deferred().fulfill()},"dimension.groupAll.reduceCount":function(n){this.dimensionGroupAlls[n].reduceCount(),this.deferred().fulfill()},"dimension.groupAll.reduce":function(n,e,i,r){this.dimensionGroupAlls[n].reduce(this.unpack(e),this.unpack(i),this.unpack(r)),this.deferred().fulfill()},"dimension.groupAll.dispose":function(n){this.dimensionGroupAlls[n].dispose(),this.deferred().fulfill()},"dimension.filterRange":function(n,e){this.dimensions[n].filterRange(e),this.deferred().fulfill()},"dimension.filterExact":function(n,e){this.dimensions[n].filterExact(e),this.deferred().fulfill()},"dimension.filterFunction":function(n,e){this.dimensions[n].filterFunction(this.unpack(e)),this.deferred().fulfill()},"dimension.filterAll":function(n){this.dimensions[n].filterAll(),this.deferred().fulfill()},"dimension.filter":function(n,e){this.dimensions[n].filter(e),this.deferred().fulfill()},"dimension.top":function(n,e){var i=this.dimensions[n].top(e);this.deferred().fulfill(i)},"dimension.bottom":function(n,e){var i=this.dimensions[n].bottom(e);this.deferred().fulfill(i)},"dimension.group":function(n,e){this.dimensionGroups[this.dimensionGroupIndex]=this.dimensions[n].group(this.unpack(e));var i=this.dimensionGroupIndex;this.dimensionGroupIndex++,this.deferred().fulfill(i)},"dimension.group.top":function(n,e){var i=this.dimensionGroups[n].top(e);this.deferred().fulfill(i)},"dimension.group.all":function(n){var e=this.dimensionGroups[n].all();this.deferred().fulfill(e)},"dimension.group.size":function(n){var e=this.dimensionGroups[n].size();this.deferred().fulfill(e)},"dimension.group.reduce":function(n,e,i,r){this.dimensionGroups[n].reduce(this.unpack(e),this.unpack(i),this.unpack(r)),this.deferred().fulfill()},"dimension.group.order":function(n,e){this.dimensionGroups[n].order(this.unpack(e)),this.deferred().fulfill()},"dimension.group.orderNatural":function(n){this.dimensionGroups[n].orderNatural(),this.deferred().fulfill()},"dimension.group.reduceSum":function(n,e){this.dimensionGroups[n].reduceSum(this.unpack(e)),this.deferred().fulfill()},"dimension.group.reduceCount":function(n){this.dimensionGroups[n].reduceCount(),this.deferred().fulfill()},"dimension.group.dispose":function(n){this.dimensionGroups[n].dispose(),this.deferred().fulfill()},groupAll:function(n){var e=this.deferred();this.groupAlls[this.groupAllIndex]=this.crossfilters[n].groupAll();var i=this.groupAllIndex;this.groupAllIndex++,e.fulfill(i)},"groupAll.value":function(n){var e=this.groupAlls[n].value();this.deferred().fulfill(e)},"groupAll.reduceSum":function(n,e){this.groupAlls[n].reduceSum(this.unpack(e)),this.deferred().fulfill()},"groupAll.reduceCount":function(n){this.groupAlls[n].reduceCount(),this.deferred().fulfill()},"groupAll.reduce":function(n,e,i,r){this.groupAlls[n].reduce(this.unpack(e),this.unpack(i),this.unpack(r)),this.deferred().fulfill()},"groupAll.dispose":function(n){this.groupAlls[n].dispose(),this.deferred().fulfill()},add:function(n,e){this.crossfilters[n].add(e),this.deferred().fulfill()},size:function(n){var e=this.crossfilters[n].size();this.deferred().fulfill(e)},all:function(n){var e=this.crossfilters[n].all();this.deferred().fulfill(e)},remove:function(n){this.crossfilters[n].remove(),this.deferred().fulfill()}},[cfUrl]),cfFacade=function(n){var e=opfilter["new"](n);return{dimension:function(n){var i=e.then(function(e){return opfilter.dimension(e,n.toString())});return{dispose:function(){return i.then(function(n){return opfilter["dimension.dispose"](n)})},groupAll:function(){var n=i.then(function(n){return opfilter["dimension.groupAll"](n)});return{value:function(){return n.then(function(n){return opfilter["dimension.groupAll.value"](n)})},reduceSum:function(e){return n.then(function(n){return opfilter["dimension.groupAll.reduceSum"](n,e.toString())}),this},reduceCount:function(){return n.then(function(n){return opfilter["dimension.groupAll.reduceCount"](n)}),this},reduce:function(e,i,r){return n.then(function(n){return opfilter["dimension.groupAll.reduce"](n,e.toString(),i.toString(),r.toString())}),this},dispose:function(){return n.then(function(n){return opfilter["dimension.groupAll.dispose"](n)})}}},group:function(n){var e=i.then(function(e){return opfilter["dimension.group"](e,n.toString())});return{top:function(n){return e.then(function(e){return opfilter["dimension.group.top"](e,n)})},all:function(){return e.then(function(n){return opfilter["dimension.group.all"](n)})},size:function(){return e.then(function(n){return opfilter["dimension.group.size"](n)})},reduceSum:function(n){return e.then(function(e){return opfilter["dimension.group.reduceSum"](e,n.toString())}),this},reduceCount:function(){return e.then(function(n){return opfilter["dimension.group.reduceCount"](n)}),this},reduce:function(n,i,r){return e.then(function(e){return opfilter["dimension.group.reduce"](e,n.toString(),i.toString(),r.toString())}),this},order:function(n){return e.then(function(e){return opfilter["dimension.group.order"](e,n.toString())}),this},orderNatural:function(){return e.then(function(n){return opfilter["dimension.group.orderNatural"](n)}),this},dispose:function(){return e.then(function(n){return opfilter["dimension.group.dispose"](n)})}}},filterRange:function(n){return i.then(function(e){return opfilter["dimension.filterRange"](e,n)})},filterExact:function(n){return i.then(function(e){return opfilter["dimension.filterExact"](e,n)})},filterFunction:function(n){return i.then(function(e){return opfilter["dimension.filterFunction"](e,n.toString())})},filterAll:function(){return i.then(function(n){return opfilter["dimension.filterAll"](n)})},filter:function(n){return i.then(function(e){return opfilter["dimension.filter"](e,n)})},top:function(n){return i.then(function(e){return opfilter["dimension.top"](e,n)})},bottom:function(n){return i.then(function(e){return opfilter["dimension.bottom"](e,n)})}}},groupAll:function(){var n=e.then(function(n){return opfilter.groupAll(n)});return{value:function(){return n.then(function(n){return opfilter["groupAll.value"](n)})},reduceSum:function(e){return n.then(function(n){opfilter["groupAll.reduceSum"](n,e.toString())}),this},reduceCount:function(){return n.then(function(n){opfilter["groupAll.reduceCount"](n)}),this},reduce:function(e,i,r){return n.then(function(n){opfilter["groupAll.reduce"](n,e.toString(),i.toString(),r.toString())}),this},dispose:function(){return n.then(function(n){return opfilter["groupAll.dispose"](n)})}}},remove:function(){return e.then(function(n){return opfilter.remove(n)}),this},add:function(n){return e.then(function(e){return opfilter.add(e,n)}),this},size:function(){return e.then(function(n){return opfilter.size(n)})},all:function(){return e.then(function(n){return opfilter.all(n)})}}};module.exports=cfFacade}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});